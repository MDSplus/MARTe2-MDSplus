+MDS_EVENTS = {
  Class = MDSEventManager
  StackSize = 1048576
  CPUs = 0x1
  Name = MIAPROVA
}
$MIAPROVA = {
 Class = RealTimeApplication
 +Functions = {
  Class = ReferenceContainer
  +IDLE_MDSPLUS = {
    Class = IOGAM
    InputSignals = {
      Counter = {
        DataSource = IDLE_MDSPLUS_TIMER
        Type = uint32
        NumberOfElements = 1
      }
      Time = {
        DataSource = IDLE_MDSPLUS_TIMER
        Type = uint32
        NumberOfElements = 1
        Frequency = 10
      }
    }
    OutputSignals = {
      Counter = {
        DataSource = IDLE_MDSPLUS_DDB
        Type = uint32
      }
      Time = {
        DataSource = IDLE_MDSPLUS_DDB
        Type = uint32
        NumberOfElements = 1
      }
    }
  }
  +MARTE_NI6259_DDBOutIOGAM = {
    Class = IOGAM
    InputSignals = {
      Counter = {
        DataSource = MARTE_NI6259
        Samples = 1
        Frequency = 10000.0002526
      }
      Time = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC0_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC1_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC2_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC3_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC4_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC5_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC6_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
      ADC7_0 = {
        DataSource = MARTE_NI6259
        Samples = 1
      }
    }
    OutputSignals = {
      Counter = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = uint32
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      Time = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = uint32
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC0_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC1_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC2_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC3_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC4_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC5_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC6_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC7_0 = {
        DataSource = MARTE_NI6259_Output_DDB
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
    }
  }
  +MARTE_NI6259_TreeOutIOGAM = {
    Class = IOGAM
    InputSignals = {
      Counter = {
        DataSource = MARTE_NI6259_Output_DDB
      }
      Time = {
        DataSource = MARTE_NI6259_Output_DDB
      }
      ADC0_0 = {
        DataSource = MARTE_NI6259_Output_DDB
      }
    }
    OutputSignals = {
      Counter = {
        DataSource = MARTE_NI6259_TreeOutput
        Type = uint32
        Samples = 1
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      Time = {
        DataSource = MARTE_NI6259_TreeOutput
        Type = uint32
        Samples = 1
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC0_0 = {
        DataSource = MARTE_NI6259_TreeOutput
        Type = int16
        Samples = 1
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
    }
  }
  +MARTE_EXPR = {
    Class = MathExpressionGAM
    InputSignals = {
      In1 = {
        DataSource = MARTE_NI6259_Output_DDB
        Alias = "ADC0_0"
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
    }
    OutputSignals = {
      Out1 = {
        DataSource = MARTE_EXPR_Output_DDB
        Type = float32
        NumberOfDimensions = 0
        NumberOfElements = 1
        Expression = "Out1 := 10.*In1/32768."
      }
    }
  }
  +MARTE_DAC_IOGAM = {
    Class = IOGAM
    InputSignals = {
      Out1 = {
        DataSource = MARTE_EXPR_Output_DDB
        Type = float32
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
    }
    OutputSignals = {
      Out1 = {
        DataSource = MARTE_DAC
        Type = float32
        NumberOfDimensions = 0
        NumberOfElements = 1
        ChannelId = 0
        OutputPolarity = "Bipolar"
        Trigger = 1
      }
    }
  }
 }
 +Data = {
  Class = ReferenceContainer
 +IDLE_MDSPLUS_TIMER = {
   Class = LinuxTimer
   SleepNature = "Default"
   Signals = {
     Counter = {
       Type = uint32
     }
     Time = {
       Type = uint32
     }
   }
 }
 +IDLE_MDSPLUS_DDB = {
   Class = GAMDataSource
 }
  +Timings = {
      Class = TimingDataSource
  }
  +MARTE_NI6259 = {
    Class = NI6259::NI6259ADC
    SamplingFrequency = 80000
    DeviceName = "/dev/pxi6259"
    BoardId = 0
    DelayDivisor = 3
    ClockSampleSource = "PFI0"
    ClockSamplePolarity = "ACTIVE_HIGH_OR_RISING_EDGE"
    ClockConvertSource = "SI2TC"
    ClockConvertPolarity = "RISING_EDGE"
    CPUs = 4
    Signals = {
      Counter = {
        Type = uint32
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      Time = {
        Type = uint32
        NumberOfDimensions = 0
        NumberOfElements = 1
      }
      ADC0_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 0
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
      ADC1_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 1
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
      ADC2_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 2
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
      ADC3_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 3
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
      ADC4_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 4
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
      ADC5_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 5
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
      ADC6_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 6
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
      ADC7_0 = {
        Type = int16
        NumberOfDimensions = 0
        NumberOfElements = 1
        InputRange = 10.0
        ChannelId = 7
        InputPolarity = "Bipolar"
        InputMode = "RSE"
      }
    }
  }
  +MARTE_NI6259_TreeOutput = {
    Class = MDSWriter
    NumberOfBuffers = 101
    NumberOfPreTriggers = 0
    NumberOfPostTriggers = 100
    CPUMask = 8
    StackSize = 10000000
    TreeName = "TEST"
    PulseNumber = 1
    StoreOnTrigger = 0
    EventName = "MARTE_NI6259UpdatejScope"
    TimeRefresh = 1
    Signals = {
      Counter = {
        NodeName = "\TEST::TOP:MARTE_NI6259.OUTPUTS.COUNTER:VALUE"
        Period = 9.99999974738e-05
       MakeSegmentAfterNWrites = 100
        AutomaticSegmentation = 0
      }
      Time = {
        NodeName = "\TEST::TOP:MARTE_NI6259.OUTPUTS.TIME:VALUE"
        Period = 9.99999974738e-05
       MakeSegmentAfterNWrites = 100
        AutomaticSegmentation = 0
      }
      ADC0_0 = {
        NodeName = "\TEST::TOP:MARTE_NI6259.OUTPUTS.ADC0_0:VALUE"
        Period = 9.99999974738e-05
       MakeSegmentAfterNWrites = 10000
        AutomaticSegmentation = 0
      }
    }
  }
  +MARTE_NI6259_Output_DDB = {
    Class = GAMDataSource
  }
  +MARTE_EXPR_Output_DDB = {
    Class = GAMDataSource
  }
  +MARTE_DAC = {
    Class = NI6259::NI6259DAC
    DeviceName = "/dev/pxi6259"
    BoardId = 0
    ClockUpdateSource = "PFI0"
    ClockUpdatePolarity = "RISING_EDGE"
    ClockUpdateDivisor = 1
    Signals = {
      Out1 = {
        Type = float32
        NumberOfDimensions = 0
        NumberOfElements = 1
        ChannelId = 0
        OutputPolarity = "Bipolar"
        Trigger = 1
      }
    }
  }
  }
 +States = {
  Class = ReferenceContainer
  +IDLE = {
    Class = RealTimeState
    +Threads = {
      Class = ReferenceContainer
        +Thread1 = {
          Class = RealTimeThread
          Functions = {IDLE_MDSPLUS}
        }
      }
    }
  +State1 = {
  Class = RealTimeState
  +Threads = {
    Class = ReferenceContainer
    +Thread1 = {
      Class = RealTimeThread
      CPUs = 2
      Functions = {MARTE_NI6259_DDBOutIOGAM MARTE_NI6259_TreeOutIOGAM MARTE_EXPR MARTE_DAC_IOGAM }
     }
   }
  }
 }
 +Scheduler = {
   Class = GAMScheduler
   TimingDataSource = Timings
 }
}
